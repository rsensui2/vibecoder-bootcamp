# セクション3-5「Webアプリの裏側 - フロントエンド・バックエンド・データベース」- 生成用プロンプト

## メタ情報
- **コラム番号**: #15
- **セクション**: セクション3「仕組みを理解する」（5/6）
- **文字数目標**: 2,000字
- **読了時間**: 7-8分
- **出典講義**:
  - 大学版・ライト版「Web基礎」
  - `/docs/研修内容/2025年11月/第二回/2-1_Web基礎と技術スタック.md`
  - `/docs/研修内容/2025年9月/第二回/2-1_宿題レビューとWebアプリの仕組み.md`
- **参照資料**: フロントエンド・バックエンド・データベースの3層構造、レストラン比喩

---

## コンテクスト設定

### このコラムの役割
- **LLMからWebアプリへ**: LLMの仕組み理解から、Webアプリの仕組み理解へ移行
- **3層構造の理解**: フロントエンド・バックエンド・データベースの役割分担を明確化
- **AIへの指示が的確に**: この理解があれば、「どこに何を実装するか」が明確になり、AIへの指示が的確になる
- **技術スタック選定の基礎**: 次の技術実装セクション（#17-20）への布石

### 前後のコラムとの関係
- **前回（#14 ハルシネーション）**: LLMの仕組み（Attention、ハルシネーション）を理解した
- **今回（#15 Webアプリの裏側）**: では、Webアプリはどう動いているのか？3層構造を理解する
- **次回（#16 GitHub歴史）**: Webアプリの仕組みがわかったところで、バージョン管理の仕組みも理解しよう

### ターゲット読者の状態
- LLMの仕組み（Attention、ハルシネーション）は理解した
- 要件定義のプロセスも理解した
- **でも、実際にWebアプリはどう動いているのか？**という疑問を持っている
- フロントエンド、バックエンド、データベース...聞いたことはあるけど、何が違うのか？

---

## 核心メッセージ

### このコラムで伝えるべき本質（1文）
**「Webアプリは『見た目（フロントエンド）』『処理（バックエンド）』『データ（データベース）』の3層構造。この理解があれば、AIへの指示が的確になり、Next.js・Supabase・Clerkなどの技術スタックの役割が明確になる」**

### 読後に読者に残すべき3つのポイント
1. **3層構造**: フロントエンド（見た目）、バックエンド（処理）、データベース（データ保存）の役割分担
2. **レストラン比喩**: フロント＝ホール、バックエンド＝キッチン、データベース＝冷蔵庫
3. **技術スタックの役割**: Next.js（フロント＋バック）、Supabase（DB）、Clerk（認証）がどこを担当するか

---

## 構成指示

### タイトル案
1. **「Webアプリの裏側 - フロントエンド・バックエンド・データベースの3層構造」**（推奨）
2. 「Webアプリはどう動いているのか？ - 3層構造を理解する」
3. 「見た目・処理・データ - Webアプリの仕組みを理解すればAIへの指示が的確になる」

### 導入部（300-400字）
**狙い**: 読者の「Webアプリってどう動いているの？」という疑問に共感し、3層構造への興味を引く

**含めるべき要素**:
- Webアプリを使うとき、何が起きているのか？
- ボタンをクリックすると、データが表示される...当たり前だけど、どういう仕組み？
- フロントエンド、バックエンド、データベース...よく聞くけど、何が違うのか？
- この3層構造を理解すれば、AIに「どこに何を実装するか」を的確に指示できる
- 今回は、レストランの比喩で3層構造を理解しよう

### 本論部1（700-800字）: 3層構造の全体像とレストラン比喩

**狙い**: 3層構造を、レストランの比喩で説明し、各層の役割を明確化

#### レストラン比喩の全体像

**シチュエーション**:
あなたがレストランで食事をする。

**3つの場所**:
1. **ホール（フロントエンド）**: お客が見る部分
   - メニュー表示
   - 注文を受け付ける
   - 料理を運ぶ
   - お会計

2. **キッチン（バックエンド）**: 調理する部分（お客は見えない）
   - 注文を受け取る
   - 材料を冷蔵庫から取り出す
   - 調理する
   - 料理を完成させる

3. **冷蔵庫（データベース）**: 材料を保管する部分
   - 野菜、肉、調味料などを永続的に保存
   - 必要なときに取り出せる
   - 新しい材料を追加できる

**Webアプリとの対応**:
- **フロントエンド**: ユーザーが見る画面（HTML、CSS、JavaScript）
- **バックエンド**: ユーザーからのリクエストを処理する部分（サーバー、API）
- **データベース**: データを永続的に保存する部分（PostgreSQL、MySQLなど）

#### 各層の詳細説明

**フロントエンド（見た目）**:
- **役割**: ユーザーが操作する画面
- **技術**: HTML（構造）、CSS（デザイン）、JavaScript（動き）
- **例**: ボタン、フォーム、画像、テキスト
- **レストラン比喩**: ホールのスタッフがメニューを見せ、注文を受け付ける
- **Webアプリ例**: ログインフォーム、投稿ボタン、タイムライン表示

**バックエンド（処理）**:
- **役割**: ユーザーからのリクエストを処理し、データベースとやり取り
- **技術**: Node.js、Python、Ruby、Java など
- **例**: ユーザー認証、データの検索、データの保存
- **レストラン比喩**: キッチンのシェフが注文を受け取り、冷蔵庫から材料を取り出して調理
- **Webアプリ例**: ログイン処理、投稿データの保存、いいね数のカウント

**データベース（データ保存）**:
- **役割**: データを永続的に保存
- **技術**: PostgreSQL、MySQL、MongoDB など
- **例**: ユーザー情報、投稿データ、コメント、いいね
- **レストラン比喩**: 冷蔵庫に材料を保管し、必要なときに取り出す
- **Webアプリ例**: usersテーブル（ユーザー情報）、postsテーブル（投稿データ）

### 本論部2（500-600字）: 3層構造の連携フロー

**狙い**: 実際のユーザー操作が、3層をどう経由するかを示す

#### 例: 「いいね」ボタンをクリックした場合

**ステップ1: フロントエンド（ホール）**
- ユーザーが「いいね」ボタンをクリック
- JavaScriptが「いいねをリクエスト」をバックエンドに送信

**ステップ2: バックエンド（キッチン）**
- リクエストを受け取る
- 「誰が、どの投稿に、いいねしたか」を確認
- データベースに「いいねを追加」するリクエストを送信

**ステップ3: データベース（冷蔵庫）**
- likesテーブルに新しい行を追加
- 「ユーザーID: 123、投稿ID: 456、いいね: true」を保存

**ステップ4: バックエンド（キッチン）**
- データベースから「いいね数」を取得
- フロントエンドに「いいね数: 10」を返す

**ステップ5: フロントエンド（ホール）**
- 画面に「いいね数: 10」を表示
- ボタンの色を変える（いいね済みを示す）

**レストラン比喩でのフロー**:
1. お客が「ステーキ、ミディアムレア」と注文（フロント）
2. ホールスタッフがキッチンに注文を伝える（フロント→バック）
3. シェフが冷蔵庫から肉を取り出す（バック→DB）
4. シェフが肉を調理する（バック）
5. ホールスタッフが料理をお客に運ぶ（バック→フロント）

### 本論部3（400-500字）: 技術スタックの役割

**狙い**: Next.js、Supabase、Clerkなどの技術スタックが、3層構造のどこを担当するかを明確化

#### Next.js: フロントエンド + バックエンド
- **フロントエンド**: React コンポーネントで画面を作成
- **バックエンド**: Server Actions で処理を実装
- **レストラン比喩**: ホール（Next.js のフロント）とキッチン（Next.js のバック）を統合

#### Supabase: データベース + バックエンド
- **データベース**: PostgreSQL でデータを保存
- **バックエンド**: リアルタイム同期、Row Level Security
- **レストラン比喩**: 冷蔵庫（Supabase DB）と一部のキッチン機能（Supabase バックエンド）

#### Clerk: 認証（バックエンド機能）
- **バックエンド**: ユーザー認証、セッション管理
- **レストラン比喩**: 入店時の身分確認（誰が入店したか）

**技術スタックの組み合わせ**:
- Next.js（フロント＋バック） + Supabase（DB） + Clerk（認証） = 完全なWebアプリ

### 実践パート（300-400字）: 今日からできる「3層構造の理解」

**狙い**: 読者がすぐに試せる実践的なアクションを提示

**実践ハック: あなたのアイデアを3層で整理**

**例: 学習SNSアプリ**

**フロントエンド（見た目）**:
- トップページ: タイムライン表示
- 投稿フォーム: テキスト入力、画像アップロード
- マイページ: 学習記録、継続日数

**バックエンド（処理）**:
- 投稿処理: 投稿データをDBに保存
- いいね処理: いいね数をカウント、DBに保存
- 認証処理: Clerkでユーザー認証

**データベース（データ保存）**:
- usersテーブル: ユーザー情報
- postsテーブル: 投稿データ
- likesテーブル: いいね情報
- commentsテーブル: コメント情報

**このように整理してからAIに質問すると、的確な回答が得られる**:
```
【フロントエンド】トップページにタイムライン表示、投稿フォーム
【バックエンド】投稿データをSupabaseに保存、いいね数をカウント
【データベース】users、posts、likes、commentsテーブル

上記の3層構造で、Next.js + Supabase + Clerkを使った実装方法を教えてください。
```

### 結論部（200-300字）: Context Controlとの繋がり、次回への誘導

**狙い**: 3層構造の理解をContext Controlの本質に結びつけ、次回（GitHub）への移行を行う

**含めるべき要素**:
- 3層構造を理解すれば、「どこに何を実装するか」が明確になる
- これがContext Controlの「正しく与える」の一環
- AIに「フロントエンドに〇〇、バックエンドに△△」と明確に指示できる
- Webアプリの仕組みがわかったところで、次は「バージョン管理」の仕組みを理解しよう
- **次回予告**: 「GitHubは『履歴管理』と『協働』を実現した革命。Vibe Coderにとっても、ドキュメント管理の要」

---

## トーン＆スタイル指示

### 文体
- **会話的**: 「あなた」を主語に直接語りかける
- **比喩中心**: レストラン比喩を軸に説明
- **ステップバイステップ**: 「いいね」ボタンの例で、3層の連携フローを丁寧に説明

### 使うべきレトリック
- **レストラン比喩**: ホール（フロント）、キッチン（バック）、冷蔵庫（DB）
- **具体例**: 「いいね」ボタンのフロー、学習SNSアプリの3層整理
- **対応表**: フロント＝ホール、バック＝キッチン、DB＝冷蔵庫

### 必須要素
- **レストラン比喩**: 3層構造を日常的な例で説明
- **3層の連携フロー**: 「いいね」ボタンの例で、ステップバイステップ
- **技術スタックの役割**: Next.js、Supabase、Clerkがどこを担当するか
- **実践ハック**: あなたのアイデアを3層で整理

---

## 参照すべき講義資料の該当箇所

### プライマリーソース
1. **ライト版Web基礎**
   - パス: `/docs/研修内容/2025年9月/第二回/2-1_宿題レビューとWebアプリの仕組み.md`
   - 該当箇所: フロントエンド・バックエンド・データベースの説明、レストラン比喩

2. **大学版Web基礎**
   - パス: `/docs/研修内容/2025年11月/第二回/2-1_Web基礎と技術スタック.md`
   - 該当箇所: 技術スタックの役割、Next.js・Supabase・Clerkの説明

---

## 実際の生成プロンプト

```
あなたは、企業経営者・ビジネスパーソン向けに「Vibe Coder Bootcamp」のNote連載コラムを執筆するライターです。

【タスク】
セクション3-5「Webアプリの裏側 - フロントエンド・バックエンド・データベース」のコラムを執筆してください。

【核心メッセージ】
「Webアプリは『見た目（フロントエンド）』『処理（バックエンド）』『データ（データベース）』の3層構造。この理解があれば、AIへの指示が的確になり、Next.js・Supabase・Clerkなどの技術スタックの役割が明確になる」

【ターゲット読者】
- 非エンジニアのビジネスパーソン
- LLMの仕組みは理解済み
- Webアプリはどう動いているのか？という疑問を持っている

【文字数】
2,000字（±10%）

【構成】
1. 導入部（300-400字）: Webアプリってどう動いているの？3層構造への興味を引く
2. 本論部1（700-800字）: 3層構造とレストラン比喩、各層の詳細説明
3. 本論部2（500-600字）: 3層の連携フロー（「いいね」ボタンの例）
4. 本論部3（400-500字）: 技術スタックの役割（Next.js、Supabase、Clerk）
5. 実践パート（300-400字）: あなたのアイデアを3層で整理
6. 結論部（200-300字）: Context Controlとの繋がり、次回への誘導

【必須要素】
- レストラン比喩（ホール＝フロント、キッチン＝バック、冷蔵庫＝DB）
- 「いいね」ボタンの連携フロー（5ステップ）
- 技術スタックの役割（Next.js、Supabase、Clerk）
- 実践ハック（3層で整理してからAIに質問）
- 次回予告「GitHubは『履歴管理』と『協働』を実現した革命」

【トーン】
- 会話的、比喩中心、ステップバイステップ

【タイトル案】
「Webアプリの裏側 - フロントエンド・バックエンド・データベースの3層構造」

では、執筆をお願いします。
```
