# 37. ポストへの返信も表示できるようにしよう

はい。

ということでデータフェッチできたんですけども、このコメントの返信ですね、これがあるものに対しては返信が見れない状態です。

今ですね。

はい。

で、本来のエックスだと、例えば僕のツイートを見てみるんですけど、これを押すとですね、詳細のコメントに飛べるわけですね。

そしてコメントのIDとかがついて、で、その下にコメントが表示されていくといった内容ですね。

はい。

コメントついてないポストでもあの、見ることが出来ます。

はい。

例えばこういう奴ですね、返信がピックアップされて見られます。

こういったのもちょっとね、軽く作っていこうかなと思っております。

はい。

ということで、ちょっとやっていきましょうか。

これも聞いてみたいと思いますね。

カーソルに続いてポストをクリックすると、ポストの詳細詳細に移動して返信がある場合はそのリプライも表示したいと思っています。

実装してください。

と、このようにちょっと聞いてみましょうか。

はい、やりたいこと聞いていきます。

はい、まずはポストを拡張していきますと緑プライズの関数を作って、非常にクエリが長いですけども、まぁこんな感じになると思います。

そして続いてポスト詳細ページですかね。

はい。

あ、作ってくれてますね。

ポストの中にIDのページTSXがあります。

はい、承認していきましょう。

まぁちょっとここら辺がエラーになってるんですけども。

まぁいいでしょう後で修正します。

で、ポストヘッダですね。

ポストカードのYOUTHルーターでこちらの詳細に飛べるようにしています。

ここのリプライが怒られちゃってるのでちょっとフィックスしてみましょうか。

FIXコンポーザーを押してちょっと聞いてみます。

リプライズを含めるように修正しましょうということで含めました。

はい、そうするとエラーが消えましたね。

はい、いいと思います。

この状態で確認したいんですけど、ここでもエラーになってますねぇ。

型エラーかな？

ポストDFLでエラーになっちゃってるのかなぁ。

ちょっとここも聞いておきましょう。

FIXコンポーザーとオプショナルに追加したというところので、アンディファインダの可能性がありますとか言われたりとかしているんですけども、とりあえず

今の内容を見てみると、ユースルーターがCLIENTコンポーネントでしか使えません。

ということで怒られちゃいました。

ポストカードかな。

なるほど。

これに関しても聞いておきましょうか。

はい、コピーをして貼り付けます。

ポストカードがユースクライアントに付きましたね。

まあいいと思います。

で、ページTSXもオプショナルチェーンを追加して回避します。

とまあ、このリターン分がまだエラーなんですけど、一応見ていきます。

はい。

そうするとREPLYポストがね、あの、クリックできるようになりました。

で、こちらクリックして行くと、ハイポストの詳細に行ってちゃんと返信が映るようになってますかね。

はい。

他のポストも覗いておきます。

ちゃんと見れましたね。

いいと思います。

実際の表示としてはこんな感じになっているので、UIはこれで参考にしてくださいというふうにしておきましょうか。

画像があるとわからないので、こんな感じでちょっと写真撮ってあげて。

返信の詳細は画像のようなイメージです。

UIなど修正してくださいというふうにちょっと言っときましょうか。

POSTヘッダーが修正されてこちらも少し修正されましたね。

はい。

REPLYTOがちょっとおかしいんですけども。

はい。

このPOSTに対しても返信することができました。

ここ返信するに変えた方がいいかもしれないんですけどね。

まあまあとりあえずいいかなと思います。

で、赤くエラーになってるところを修正していきたいので、まあここもちょっとFIXコンポーザーというふうにして全部修正していきましょう。

REPLYTOプロパティを追加しますという事ですね。

はい。

REPLYを追加して、これ使ってませんよって怒られてるんですよね。

解消されるんだけど、まあこちら使ってないので、これもちょっとFIXしていきますね。

ちょっとファイルが大きくなって見づらくはなってきましたけども、仕方ないですね。

ここら辺はもうこんな感じで返信先も見せるようにしました。

そうすると、こんな感じになりましたね。

はい。

まあいいんじゃないでしょうか。

これでリプライとだったら返信するっていうここ文字に変えてもいいと思います。

じゃあほかにもちょっとエラーになってるところを修正して終わりにしましょう。

ただコンポーザーに聞いていくだけです。

インクルード再帰的に設定します。

これにより必要な関連語エラーが解決されますと、はい、こんな感じで再帰的にしてあげるとエラーが解決しますということですね。

じゃあ最後これですね。

最後これ解決していきます。

はい、どうでしょうか。

そしてちょっとプロフィールとか覗いておきましょうか。

これ変身ですね。

プロフィール覗きます。

山田太郎さんのこの文字を押したらカードがクリックされて返信のところに行っちゃいますね。

はい。

プロフィールの名前押したらプロフィールページに飛んで、ポストに入ったときはポストに飛ばしたいので、続いてそちらの方をちょっと修正していき

たいと思います。

はい。

ということでついての動画でお会いしましょう。

ばいばい。
