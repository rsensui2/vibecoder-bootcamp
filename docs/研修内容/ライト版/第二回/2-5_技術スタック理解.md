---
title: "技術スタック理解"
track: "ライト版・第2回"
author: "TEKION Group / 泉水亮介"
last_updated: "2025年6月11日"
category: "技術知識"
---

# 技術スタック理解

## 概要
AI駆動開発において、適切な技術スタックの選択は成功への第一歩です。本講義では、非エンジニアの方が技術スタックを理解し、AIと効果的に対話しながら最適な技術選択ができるようになることを目指します。「まず真似る」ことから始め、徐々に理解を深めていく実践的なアプローチを採用します。

## 学習目標
- 技術スタックとは何か、なぜ重要なのかを理解する
- AIを活用した技術選択の方法を習得する
- 実践的な技術構成（Next.js + TypeScript）を理解する
- プロジェクトに応じた技術選択ができるようになる
- 各技術の特徴と使いどころを把握する

## 内容

### 1. 技術スタックとは何か？

#### 家を建てることに例えると

技術スタックの理解は、家を建てることに似ています。

**家を建てるとき：**
- **基礎** → コンクリート（強固で安定）
- **骨組み** → 鉄骨や木材（構造を支える）
- **外壁** → サイディングやレンガ（見た目と保護）
- **屋根** → 瓦やスレート（雨風から守る）
- **内装** → 壁紙や床材（快適な空間）

**Webアプリを作るとき：**
- **フロントエンド** → React/Next.js（見た目・ユーザー体験）
- **バックエンド** → Next.js API Routes（データ処理・ビジネスロジック）
- **データベース** → Supabase/Neon（データの保存）
- **認証** → Clerk/Supabase Auth（ユーザー管理）
- **ホスティング** → Vercel（公開・配信）

それぞれの部分に適した技術を選ぶことで、強固で使いやすいアプリケーションが作れます。

#### なぜ技術スタックの理解が必要なのか

**1. AIに的確な指示を出すため**
```
❌ 悪い例：「アプリを作って」
✅ 良い例：「Next.jsとSupabaseを使って、ユーザー認証機能付きのタスク管理アプリを作って」
```

AIは具体的な技術名を指定されると、より適切なコードを生成できます。

**2. 実現可能性を判断するため**
- 「無料でできるか？」
- 「どれくらいの規模まで対応できるか？」
- 「学習にどれくらい時間がかかるか？」

これらの判断には、各技術の特性理解が不可欠です。

**3. コストを見積もるため**
- 初期費用はいくらか
- 月額費用はいくらか
- スケールアップ時の費用は

技術選択によってコストは大きく変わります。

### 2. AIを活用した技術選定方法

#### 基本的な質問テンプレート

**テンプレート1：要件から技術を選ぶ**
```
私は[目的]のアプリを作りたいです。
以下の条件で最適な技術スタックを提案してください：

- 予算：[無料 / 月額○○円まで]
- 技術レベル：[プログラミング初心者 / 少し経験あり]
- 想定ユーザー数：[10人 / 100人 / 1000人以上]
- 必要な機能：
  - [機能1]
  - [機能2]
  - [機能3]
- デバイス対応：[スマホ対応必須 / PC専用でOK]

非エンジニアでも扱いやすく、AIでコード生成しやすい技術を優先してください。
```

**テンプレート2：技術の比較**
```
[技術A]と[技術B]の違いを教えてください。
特に以下の観点で比較してください：

- 学習の難易度
- 費用
- できること/できないこと
- AIでのコード生成のしやすさ
- 将来性

私は[あなたの状況]なので、どちらが適していますか？
```

#### 実際の質問例と回答の読み方

**質問例：**
```
個人で使うタスク管理アプリを作りたいです。
以下の条件で最適な技術スタックを提案してください：

- 予算：無料〜月額1000円程度
- 技術レベル：プログラミング初心者
- 想定ユーザー数：自分と家族（5人程度）
- 必要な機能：
  - タスクの追加・編集・削除
  - 期限の設定とリマインダー
  - スマホとPCの両方で使える
  - ログイン機能

非エンジニアでも扱いやすく、AIでコード生成しやすい技術を優先してください。
```

**AIの回答を読むポイント：**
1. **推奨技術の確認** - 具体的な技術名をメモ
2. **理由の理解** - なぜその技術が選ばれたか
3. **注意点の把握** - 制限事項や将来の課題
4. **代替案の確認** - 他の選択肢はあるか

### 3. 実践的な技術構成（まず真似してもらう）

#### 基本テンプレート構成

**非エンジニアが最初に真似すべき構成：**
```yaml
フロントエンド: Next.js + TypeScript
バックエンド: Next.js API Routes
データベース: Supabase
認証: Clerk または Supabase Auth
ホスティング: Vercel
バージョン管理: GitHub
```

この構成を選ぶ理由：
- **統一感** - フロントとバックエンドが同じ技術
- **無料枠** - 小規模なら完全無料で運用可能
- **AIとの相性** - コード生成が得意な構成
- **学習効率** - 覚えることが最小限
- **拡張性** - 必要に応じてスケールアップ可能

#### なぜWebアプリケーションなのか

**1. アクセスの容易さ**
- ブラウザさえあれば誰でも使える
- アプリのインストール不要
- URLを送るだけで共有できる
- 更新が即座に反映される

**2. デバイスの多様性対応**
- スマートフォン対応が簡単（レスポンシブデザイン）
- タブレット、PC、どれでも同じ体験
- OSを選ばない（Windows、Mac、iOS、Android全対応）

**3. 開発の効率性**
- 一つのコードベースで全デバイス対応
- デバッグが簡単（ブラウザの開発者ツール）
- 配布の手間がない

**4. AIとの相性**
- Web技術はAIが最も得意とする分野
- 豊富な学習データによる高品質なコード生成
- トラブルシューティングも容易

### 4. フロントエンド技術：Next.js + TypeScript

#### Next.jsとは

Next.jsは、Reactをベースにした「フルスタックWebフレームワーク」です。初心者にとって重要なのは、「必要なものが最初から全部入っている」ということです。

**家電に例えると：**
- **React** = 電子レンジの心臓部分
- **Next.js** = 使いやすい操作パネル付きの完成品電子レンジ

**Next.jsの主な特徴：**
```yaml
ファイルベースルーティング:
  説明: "ファイルを作るだけでページができる"
  例: "app/about/page.tsx → /aboutページ"
  
自動最適化:
  説明: "勝手に速くしてくれる"
  例: "画像の自動圧縮、コードの最適化"
  
API Routes:
  説明: "バックエンドも同じ場所で書ける"
  例: "app/api/tasks/route.ts → /api/tasksエンドポイント"
  
Vercel統合:
  説明: "GitHubにプッシュするだけで公開"
  例: "コードを保存 → 自動でWebに公開"
```

#### なぜTypeScriptなのか

**TypeScriptを使う理由：**

**1. AIがより正確なコードを生成できる**
```typescript
// TypeScriptの場合 - AIが型を理解して正確なコード生成
interface Task {
  id: string;
  title: string;
  completed: boolean;
  dueDate: Date;
}

// JavaScriptの場合 - AIが推測に頼る必要がある
const task = {
  id: "123",
  title: "買い物",
  completed: false,
  dueDate: new Date()
}
```

**2. エラーを事前に防げる**
```typescript
// TypeScriptならエディタが即座にエラーを教えてくれる
const task: Task = {
  id: "123",
  title: "買い物",
  completed: "いいえ", // ❌ エラー：boolean型であるべき
  dueDate: new Date()
}
```

**3. 自動補完が充実**
- 変数名を途中まで打つと候補が出る
- 使える関数（メソッド）が一覧で見える
- タイプミスを防げる

**4. 将来の自分や他人にやさしい**
- コードを見れば何のデータか一目瞭然
- ドキュメント代わりになる
- チーム開発でも安心

### 5. バックエンド技術の選択肢

#### Next.js API Routes（推奨）

**なぜNext.js API Routesを推奨するか：**

**1. 同じプロジェクトで完結**
```
my-app/
├── app/
│   ├── page.tsx          # フロントエンド
│   └── api/
│       └── tasks/
│           └── route.ts  # バックエンド（API）
```

一つのプロジェクトで全て管理できるため、初心者にも分かりやすい。

**2. 型の共有が簡単**
```typescript
// types/task.ts - 共通の型定義
export interface Task {
  id: string;
  title: string;
  completed: boolean;
}

// フロントエンドでもバックエンドでも同じ型を使える
```

**3. デプロイが一度で済む**
- Vercelにプッシュすれば、フロントもバックも同時にデプロイ
- 設定ファイルの管理が最小限
- 環境変数も一箇所で管理

#### Google Apps Script（特定用途向け）

**GASを使うと良いケース：**

**1. Google Workspace連携が必要な場合**
```javascript
// 例：スプレッドシートの自動更新
function updateTaskStatus() {
  const sheet = SpreadsheetApp.getActiveSheet();
  const tasks = getTasks(); // 外部APIから取得
  
  tasks.forEach((task, index) => {
    sheet.getRange(index + 2, 1).setValue(task.title);
    sheet.getRange(index + 2, 2).setValue(task.status);
  });
}
```

**2. 定期実行が必要な場合**
```javascript
// 毎日朝9時にメール送信
function sendDailyReport() {
  const tasks = getIncompleteTasks();
  const emailBody = createReportHTML(tasks);
  
  GmailApp.sendEmail(
    'user@example.com',
    '本日のタスク一覧',
    '',
    { htmlBody: emailBody }
  );
}
```

**3. 無料で済ませたい場合**
- 実行時間制限（6分/実行）内で収まる処理
- 同時接続数が少ない（社内ツールなど）
- Googleサービスとの連携が主目的

**GASの制限事項：**
```yaml
実行時間: "最大6分/実行"
同時実行: "30実行まで"
トリガー: "20個まで"
ファイルサイズ: "50MB未満"
URLアクセス: "匿名アクセス不可（Googleアカウント必須）"
```

#### Cloud Run（スケーラブルな選択肢）

**Cloud Runを選ぶ理由：**

**1. 真のサーバーレス**
```yaml
特徴:
  課金: "使った分だけ（0リクエストなら0円）"
  スケール: "自動で0〜1000インスタンス"
  言語: "何でもOK（Node.js、Python、Go等）"
  コンテナ: "Dockerで環境を完全に制御"
```

**2. Next.jsの限界を超えたい時**
- 6分以上かかる処理が必要
- WebSocketを使いたい
- 特殊なライブラリを使いたい
- バックグラウンド処理が必要

**3. コスト効率**
```
想定コスト（月間）:
- 1万リクエスト: 約$0.50
- 10万リクエスト: 約$5
- 100万リクエスト: 約$50

※CPU、メモリ、地域により変動
```

**Cloud Runの設定例：**
```dockerfile
# Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 8080
CMD ["node", "server.js"]
```

### 6. データベースの選択

#### なぜデータベースが必要か

データベースは、アプリケーションの「記憶」です。ユーザー情報、投稿内容、設定など、永続的に保存したいデータを管理します。

#### Supabase（推奨）

**Supabaseを推奨する理由：**

**1. 無料枠が充実**
```yaml
無料枠内容:
  データベース容量: "500MB"
  ストレージ: "1GB"
  帯域幅: "2GB/月"
  同時接続: "50接続"
  
小規模アプリなら十分な容量
```

**2. リアルタイム機能**
```typescript
// データの変更を即座に反映
const { data, error } = await supabase
  .from('tasks')
  .select('*')
  .order('created_at', { ascending: false });

// リアルタイム購読
supabase
  .channel('tasks')
  .on('postgres_changes', 
    { event: '*', schema: 'public', table: 'tasks' }, 
    payload => {
      console.log('Change received!', payload);
    }
  )
  .subscribe();
```

**3. 認証機能込み**
- メール/パスワード認証
- ソーシャルログイン（Google、GitHub等）
- マジックリンク（パスワードレス）
- 多要素認証

**4. 使いやすいダッシュボード**
- データを直接確認・編集できる
- SQLを書かなくても操作可能
- バックアップも自動

#### スプレッドシート（最も簡単な選択肢）

**スプレッドシートが適している場合：**

**1. プロトタイプ段階**
```javascript
// Next.jsからGoogle Sheets APIを使用
const sheets = google.sheets({ version: 'v4', auth });
const response = await sheets.spreadsheets.values.get({
  spreadsheetId: SHEET_ID,
  range: 'Tasks!A:D',
});

const tasks = response.data.values.map(row => ({
  id: row[0],
  title: row[1],
  status: row[2],
  dueDate: row[3]
}));
```

**2. 非エンジニアでも編集したい**
- 管理画面不要
- Excelライクな操作
- 共同編集可能

**3. データ量が少ない**
- 1万行以下
- 複雑なクエリ不要
- リアルタイム性不要

**制限事項：**
```yaml
セル数上限: "1000万セル/スプレッドシート"
API制限: "300リクエスト/分"
同時編集: "100人まで"
```

#### その他の選択肢

**Neon（PostgreSQL互換）**
- Supabaseより高速
- より本格的なSQL機能
- 無料枠：3GB

**Firebase（Google製）**
- NoSQLデータベース
- リアルタイム同期が得意
- Googleサービスとの連携が強い

**PlanetScale（MySQL互換）**
- スケーラビリティに優れる
- ブランチ機能（開発/本番の分離）
- 無料枠：5GB

### 7. 認証システムの選択

#### Clerk（最も簡単）

**Clerkの特徴：**

**1. 数行のコードで実装**
```typescript
// app/layout.tsx
import { ClerkProvider } from '@clerk/nextjs'

export default function RootLayout({ children }) {
  return (
    <ClerkProvider>
      <html lang="ja">
        <body>{children}</body>
      </html>
    </ClerkProvider>
  )
}

// 認証が必要なページ
import { auth } from '@clerk/nextjs';

export default async function Page() {
  const { userId } = auth();
  
  if (!userId) {
    redirect('/sign-in');
  }
  
  return <div>ようこそ！</div>;
}
```

**2. 美しいUIが標準装備**
- カスタマイズ可能なログイン画面
- 多言語対応（日本語あり）
- ダークモード対応

**3. 豊富な認証方法**
```yaml
対応認証:
  - メール/パスワード
  - マジックリンク
  - ソーシャルログイン:
    - Google
    - GitHub
    - Twitter/X
    - LINE
  - 電話番号（SMS）
  - 生体認証（パスキー）
```

**料金：**
- 無料枠：月間アクティブユーザー5,000人まで
- それ以降：$0.02/ユーザー

#### Supabase Auth（データベースと統合）

**Supabase Authの利点：**

**1. データベースとの密接な連携**
```typescript
// ユーザーのタスクを取得（認証込み）
const { data: tasks, error } = await supabase
  .from('tasks')
  .select('*')
  .eq('user_id', user.id); // 自動的に現在のユーザーでフィルタ
```

**2. Row Level Security（RLS）**
```sql
-- ユーザーは自分のデータのみアクセス可能
CREATE POLICY "Users can only see own tasks" ON tasks
  FOR SELECT USING (auth.uid() = user_id);
```

**3. 無料で全機能使える**
- 制限はユーザー数ではなく、全体的な使用量
- 小規模アプリなら完全無料

### 8. ホスティング：Vercel

#### VercelとGitHubの魔法の連携

**なぜVercelが素晴らしいのか：**

**1. GitHubプッシュ = 自動デプロイ**
```yaml
ワークフロー:
  1. コードを書く
  2. git add .
  3. git commit -m "新機能追加"
  4. git push
  5. 数分後には世界中からアクセス可能！
```

**2. プレビューデプロイ**
- プルリクエストごとに専用URL
- 本番に影響なくテスト可能
- チームでのレビューが簡単

**3. 環境変数の管理**
```bash
# ローカル開発用 .env.local
DATABASE_URL=postgresql://...
NEXT_PUBLIC_API_KEY=...

# Vercelダッシュボードで本番用を設定
# セキュアに管理される
```

**4. エッジ配信**
- 世界中のサーバーから配信
- ユーザーに最も近い場所から高速配信
- 自動的にHTTPS対応

**料金：**
```yaml
Hobby（個人）:
  料金: 無料
  カスタムドメイン: 可能
  帯域幅: 100GB/月
  
Pro（商用）:
  料金: $20/月/チーム
  チーム機能: あり
  サポート: あり
```

#### GitHubをバックアップツールとして理解する

**非エンジニア向けの説明：**

GitHubは「コードの保存庫」です。以下のような利点があります：

**1. 履歴管理**
- いつ、誰が、何を変更したか記録
- 過去のバージョンに戻れる
- 「やっぱり前のほうが良かった」に対応

**2. バックアップ**
- パソコンが壊れてもコードは安全
- クラウド上に保存
- 無料で使える

**3. 共同作業**
- 複数人で同時に開発
- 変更の衝突を自動検出
- レビュー機能

**基本的な使い方：**
```bash
# 最初の設定（1回だけ）
git init
git remote add origin https://github.com/username/project.git

# 日々の作業
git add .                    # 変更をステージング
git commit -m "説明文"       # 変更を記録
git push                     # GitHubに送信
```

### 9. 実践的なプロジェクト例

#### 例1：個人用タスク管理アプリ

**技術スタック：**
```yaml
フロントエンド: Next.js + TypeScript
バックエンド: Next.js API Routes
データベース: Supabase
認証: Supabase Auth
ホスティング: Vercel
```

**ディレクトリ構造：**
```
task-manager/
├── app/
│   ├── layout.tsx
│   ├── page.tsx
│   ├── login/
│   │   └── page.tsx
│   ├── dashboard/
│   │   └── page.tsx
│   └── api/
│       └── tasks/
│           └── route.ts
├── components/
│   ├── TaskList.tsx
│   ├── TaskForm.tsx
│   └── TaskItem.tsx
├── lib/
│   ├── supabase.ts
│   └── types.ts
└── .env.local
```

#### 例2：社内情報共有ツール

**技術スタック：**
```yaml
フロントエンド: Next.js + TypeScript
バックエンド: Google Apps Script
データベース: Google Sheets
認証: Google認証（GAS標準）
ホスティング: Vercel（フロント）+ GAS（バック）
```

**使い分けの理由：**
- 社内のGoogle Workspaceと連携
- スプレッドシートで管理者が直接編集可能
- 認証はGoogle アカウントで統一

### 10. AIへの効果的な質問方法

#### コード生成を依頼する時のコツ

**良い例：**
```
Next.js 14のApp Routerを使用して、Supabaseと連携するタスク管理アプリを作成してください。

要件：
- TypeScriptを使用
- Supabase Authでログイン機能
- タスクのCRUD操作
- リアルタイム更新
- Tailwind CSSでスタイリング

まず、必要なパッケージのインストールコマンドと、
基本的なディレクトリ構造を教えてください。
```

**なぜ良いのか：**
- 技術スタックが明確
- バージョン指定
- 具体的な要件
- 段階的なアプローチ

#### トラブルシューティングの質問

**良い例：**
```
Next.js 14でSupabaseを使っていますが、以下のエラーが出ます：

エラーメッセージ：
[エラー内容をコピペ]

現在のコード：
```typescript
[問題のコードをコピペ]
```

試したこと：
1. npm install を再実行
2. .env.localの確認

環境：
- Next.js 14.1.0
- Supabase 2.39.0
- Node.js 18.17.0

解決方法を教えてください。
```

### 11. コスト計算と最適化

#### 月額コストシミュレーション

**小規模（個人〜10人）：**
```yaml
Vercel: $0（Hobbyプラン）
Supabase: $0（無料枠内）
Clerk: $0（5000MAUまで無料）
GitHub: $0（パブリックリポジトリ）
合計: $0/月
```

**中規模（10〜100人）：**
```yaml
Vercel: $20（Proプラン）
Supabase: $25（Proプラン）
Clerk: $25（追加ユーザー分）
GitHub: $4（プライベートリポジトリ）
合計: 約$74/月
```

**大規模（100人以上）：**
```yaml
Vercel: $20 + 使用量
Supabase: $25 + 使用量
Clerk: カスタム見積もり
GitHub: $21（Teamプラン）
合計: $100〜/月
```

### 12. よくある失敗パターンと対策

#### 1. 過度に複雑な構成を選ぶ

**失敗例：**
- いきなりマイクロサービス
- 複数の言語を混在
- 過剰なツール導入

**対策：**
- まずはシンプルに始める
- 本当に必要になってから追加
- 「YAGNI原則」（You Aren't Gonna Need It）

#### 2. コストを考慮しない

**失敗例：**
- AWS無料枠の罠（1年後に課金）
- 従量課金の見積もりミス
- 隠れたコスト（データ転送料等）

**対策：**
- 無料枠の条件を確認
- アラート設定
- 定期的な使用量チェック

#### 3. セキュリティを軽視

**失敗例：**
- APIキーをGitHubに公開
- 認証なしでデータ公開
- SQLインジェクション脆弱性

**対策：**
- 環境変数の適切な管理
- 認証・認可の実装
- AIに「セキュリティも考慮して」と明記

### 13. 段階的な学習ロードマップ

#### Phase 1：基礎固め（1-2週間）
1. Next.jsのチュートリアル完了
2. TypeScriptの基本理解
3. Vercelへの初デプロイ

#### Phase 2：データベース連携（2-3週間）
1. Supabaseアカウント作成
2. 簡単なCRUD操作実装
3. 認証機能の追加

#### Phase 3：実践プロジェクト（1ヶ月）
1. オリジナルアプリの企画
2. 設計と実装
3. ユーザーテストと改善

#### Phase 4：応用と最適化（継続的）
1. パフォーマンス改善
2. 新機能の追加
3. 他の技術の探索

## 実践演習

### 演習1：技術選定の練習
1. 架空のプロジェクト要件を作成
2. AIに技術スタックを相談
3. 選定理由をまとめる

### 演習2：環境構築
1. Next.jsプロジェクトの作成
2. Supabaseの設定
3. Vercelへのデプロイ

### 演習3：簡単なアプリ作成
1. ログイン機能の実装
2. データの表示と追加
3. スタイリングの適用

### 演習4：トラブルシューティング
1. わざとエラーを発生させる
2. AIに質問して解決
3. 解決プロセスを記録

## 重要ポイント
- **まず真似る**: 推奨構成から始めて、徐々に理解を深める
- **AIを活用**: 分からないことは具体的に質問
- **小さく始める**: 最小限の機能から徐々に拡張
- **コストを意識**: 無料枠を最大限活用
- **セキュリティ重視**: 最初から正しい実装を心がける

## 次のステップ
技術スタックの理解が完了したら、次は「バージョン管理とドキュメント作成」に進みます。GitHubを使ったプロジェクト管理と、効率的なドキュメント作成方法を学習します。

## まとめ
技術スタックの選択は、プロジェクトの成功を左右する重要な決定です。しかし、完璧な選択を最初から行う必要はありません。推奨構成から始めて、必要に応じて調整していけば良いのです。AIを味方につけ、継続的に学習することで、最適な技術選択ができるようになります。

---

### 補足資料

#### 用語集
- **フロントエンド**: ユーザーが見て操作する部分
- **バックエンド**: データ処理やビジネスロジックを担当する部分
- **API**: フロントエンドとバックエンドをつなぐ窓口
- **デプロイ**: 作ったアプリを公開すること
- **環境変数**: APIキーなどの秘密情報を管理する仕組み

#### 参考リンク
- [Next.js公式ドキュメント](https://nextjs.org/docs)
- [Supabase公式ドキュメント](https://supabase.com/docs)
- [Vercel公式ドキュメント](https://vercel.com/docs)
- [TypeScript公式ドキュメント](https://www.typescriptlang.org/docs/)

#### AIプロンプト集
```
# 技術選定
「[要件]を満たすWebアプリを作りたいです。Next.js、Supabase、Vercelを使う前提で、最適な構成を提案してください。」

# コード生成
「Next.js 14 App RouterとTypeScriptを使って、[機能]を実装するコードを書いてください。Supabaseとの連携も含めてお願いします。」

# エラー解決
「Next.jsで以下のエラーが出ています：[エラー内容]。環境は[環境情報]です。解決方法を教えてください。」

# ベストプラクティス
「[技術名]を使う際のベストプラクティスを、初心者にも分かりやすく教えてください。」
```