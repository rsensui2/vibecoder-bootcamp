# プロンプト：Vibe Coder Bootcamp講義資料「3-1_DB基礎とSupabase実装」作成

## 役割設定
あなたは、Vibe Coder Bootcampの教材を作成するエキスパートです。非エンジニアの受講者が、AI時代の新しい働き方を学び、実践できるよう、高品質で分かりやすい講義資料を作成してください。

## 品質基準
生成する講義資料は、以下の品質基準を**厳密に**遵守してください。

1.  **網羅性:**
    -   指定されたインプットファイルに含まれる教育的エッセンス、主要な概念、具体例を**すべて**盛り込んでください。
2.  **付加価値:**
    -   単なる情報の統合ではなく、**より高品質な「教科書」**として再執筆してください。
    -   各トピックについて、「なぜそうするのか」「ビジネス上どのような意味を持つのか」という**戦略的・構造的な解説**を大幅に加えてください。
    -   非エンジニアがつまずきやすい点を予測し、**図解（Mermaid記法）、平易な言葉での比喩、発展的なコラム**などを豊富に盛り込んでください。
    -   **o3 MCP**を活用し、最新の技術トレンドや情報を反映させてください。
3.  **実践性:**
    -   全ての知識が、受講者の**翌日の業務に活かせる**ような、具体的で実践的なアクションに繋がる形で提示してください。
4.  **形式:**
    -   **Marp形式**に完全準拠し、`---`をスライド区切りとしてください。**1スライド1メッセージ**を徹底し、枚数が多くなっても構いません。
5.  **量的基準:**
    -   教科書としての網羅性と深度を担保するため、ファイル全体で**最低1,000行以上**のボリュームを持たせてください。

## インプット情報
以下のファイルを精読し、内容を完全に理解した上で、講義資料を作成してください。

-   `docs/研修内容/2025年7月/第三回/3-1_データベース基礎.md`
-   `docs/研修内容/2025年7月/第三回/3-2_Supabaseの使い方.md`

## 構成案
以下の構成案に基づき、詳細な内容を肉付けしてください。

---
marp: true
theme: default
---

# **第三回**
## DB基礎とSupabase実装

---

### 本日のアジェンダ
1.  **宿題レビュー (15分)**
    -   完成したフロントエンドの共有
2.  **データベース基礎 (20分)**
    -   なぜDBが必要か？ - スプレッドシートの限界
    -   DB設計の基本：テーブル、カラム、リレーション
3.  **ハンズオン：AIによるDB設計 (25分)**
    -   システム要件定義書からER図を生成する
4.  **ハンズオン：SupabaseでのDB構築 (30分)**
    -   テーブル作成とRLS（セキュリティ）設定

---

### 1. 宿題レビュー
#### あなたのアプリが「見た目」を手に入れた
-   **（第二回の宿題（フロントエンド完成、GitHub共有）について、数名の受講者の作品をレビュー）**
-   **（`npm run dev`で実際に動いている画面を見せてもらい、UIデザインの工夫や実装で苦労した点を共有してもらう）**
-   **（「今はまだハリボテの状態だが、今日ここに魂（データ）を吹き込んでいく」という流れで、本日の講義への期待感を高める）**

---

### 2. データベース基礎
#### なぜDBが必要か？ - スプレッドシートの限界
-   **（`3-1_データベース基礎.md`を参考に、データベースを「アプリの記憶を司る脳」と位置づける）**
-   **（なぜスプレッドシートではダメなのかを、「速度」「同時アクセス」「データ整合性」「セキュリティ」の4つの観点から、具体的な失敗シナリオを交えて詳細に解説）**

---

#### DB設計の基本用語
-   **（非エンジニアが混乱しないよう、スプレッドシートとの対比で基本用語を解説する表を作成）**
| データベース用語 | スプレッドシートでの対応 | 説明 |
| :--- | :--- | :--- |
| **データベース** | ファイル全体 (`.xlsx`) | プロジェクトの全データを格納する箱 |
| **テーブル** | シート | `users`や`posts`といったデータの種類ごとの表 |
| **レコード（行）** | 行 | 1人のユーザー、1つの投稿といった個々のデータ |
| **カラム（列）** | 列 | `name`, `email`といったデータの属性 |
| **リレーション** | VLOOKUP関数など | テーブル間の関連付け |

---

### 3. ハンズオン：AIによるDB設計
#### システム要件定義書からER図を生成する
-   **（第二回で作成した`system_requirements.md`が、DB設計のインプットになることを説明）**
-   **（機能要件から「名詞（テーブル）」と「属性（カラム）」を抽出する思考プロセスを実演）**
-   **（Cursor Agentに`system_requirements.md`を読み込ませ、「この要件に基づいたER図をMermaid記法で作成して」と指示を出すハンズオンを実施）**
-   **（AIが生成したER図をレビューし、リレーション（1対多、多対多など）の意味を解説）**

---

### 4. ハンズオン：SupabaseでのDB構築
#### 設計図を基に「記憶」の場所を作る
-   **（`3-2_Supabaseの使い方.md`を参考に、Supabaseが単なるDBではなく、認証やストレージも提供するBaaS（Backend as a Service）であることを解説）**
-   **（Supabaseプロジェクトの作成から、テーブルエディタを使い、先ほどAIが生成したER図を基にテーブルとカラムを作成する手順を、スクリーンショット付きで丁寧にガイド）**

---

#### RLS (Row Level Security) - データベースの門番
-   **（RLSが「自分のデータは自分しか操作できない」というルールをDBレベルで強制する、極めて重要なセキュリティ機能であることを強調）**
-   **（Supabaseのポリシーエディタを使い、「`posts`テーブルの`user_id`が、今ログインしているユーザーのIDと一致する場合のみ、行の操作を許可する」というポリシーを設定するハンズオンを実施）**
-   **（「なぜアプリ側だけでなくDB側でもセキュリティをかけるのか？」という問いに対し、多層防御の重要性を解説するコラムを追加）**

---

### Session 1 まとめ
-   **（本セッションの学びを箇条書きでまとめ、AIを使って要件定義書からDB設計を行い、Supabaseで安全なデータ保管場所を構築するまでの一連の流れを体験したことを総括）**
-   **（次のSession 3-2へ：データベースの準備ができたので、続いて「認証」機能をClerkで実装し、セキュアなアクセス制御を追加することを伝える）**

## 出力形式
-   **ファイルパス:** `docs/研修内容/2025年9月/第三回/3-1_DB基礎とSupabase実装.md`
-   **形式:** Marp形式のMarkdownファイル