# Cursor IDE ガイド

**最終更新日**: 2025-12-18
**対象バージョン**: Cursor v0.42以降

## 目次
- [プロジェクトフォルダを開く](#プロジェクトフォルダを開く)
- [基本的なUI構成](#基本的なui構成)
- [よく使うショートカットキー](#よく使うショートカットキー)
- [主要機能](#主要機能)
- [チャットへのファイル追加方法](#チャットへのファイル追加方法)
- [Markdownプレビュー](#markdownプレビュー)
- [ファイル位置の確認](#ファイル位置の確認)
- [用語集](#用語集)
- [トラブルシューティング](#トラブルシューティング)

---

## プロジェクトフォルダを開く

Cursorを使う上で最も基本的で重要なのが、**プロジェクトフォルダを正しく開く**ことです。

### プロジェクトフォルダとは

**プロジェクトフォルダ**とは、プロジェクト全体が入っている**最上位のフォルダ**のことです。このフォルダを Cursor で開くことで、AI エージェントがプロジェクト全体を理解できるようになります。

**重要**: プロジェクトフォルダは、必ずしも `package.json` があるフォルダとは限りません。プロジェクト全体を管理するフォルダを指します。

#### パターン1: シンプルな構造（プロジェクトフォルダ = アプリのルート）

```
my-next-app/          ← プロジェクトフォルダ（Cursorで開く）
├── app/              ← アプリのソースコード
├── components/
├── public/
├── package.json      ← アプリの設定ファイル
└── ...
```

この場合、プロジェクトフォルダを開けば、そのままアプリのルートディレクトリも開かれます。

#### パターン2: 複数アプリやドキュメントがある構造

```
my-project/           ← プロジェクトフォルダ（Cursorで開く）
├── docs/             ← ドキュメント
├── frontend/         ← フロントエンドのアプリ
│   ├── app/
│   ├── components/
│   ├── package.json  ← フロントエンドの設定ファイル
│   └── ...
├── backend/          ← バックエンドのアプリ
│   ├── src/
│   ├── package.json  ← バックエンドの設定ファイル
│   └── ...
└── README.md
```

この場合、Cursorで `my-project` を開くことで、複数のアプリやドキュメント全体を見渡せるようになります。

### なぜプロジェクトフォルダ全体を開く必要があるのか

Cursorでプロジェクトフォルダを開くことで：
- **AIエージェントがプロジェクト全体のコンテキストを理解できる**
  - ドキュメント、複数のアプリ、設定ファイルなど全体を把握
- **ファイル検索やナビゲーションが正しく動作する**
  - プロジェクト内のすべてのファイルを横断検索可能
- **統合された開発体験が得られる**
  - 複数のアプリやドキュメントを1つのウィンドウで管理

**個別のファイルを開くだけでは不十分**です。必ずプロジェクト全体のフォルダを開いてください。

### 正しい開き方

1. Cursorを起動
2. メニューから「File」→「Open Folder...」を選択（または `Cmd + O` / `Ctrl + O`）
3. **プロジェクト全体のフォルダ**を選択
   - シンプルな構造: アプリのルートフォルダ（`package.json` があるフォルダ）
   - 複数アプリ構造: プロジェクト全体を含む最上位フォルダ
4. 「Open」をクリック

左側のファイルツリーにプロジェクト全体が表示されれば成功です。

### 開いた後の作業の流れ

プロジェクトフォルダを開いた後、実際にコマンドを実行する際は、**アプリのルートディレクトリに移動する必要があります**。

#### シンプルな構造の場合
- プロジェクトフォルダ = アプリのルートなので、そのままターミナルでコマンド実行可能
- 例: `npm run dev`

#### 複数アプリ構造の場合
1. ターミナルを開く（`Cmd + J` / `Ctrl + J`）
2. アプリのルートディレクトリに移動
   - 例: `cd frontend` または `cd backend`
3. コマンドを実行
   - 例: `npm run dev`

詳しくは「[今更聞けないシリーズ - プロジェクトフォルダとアプリのルートディレクトリの違い](./今更聞けないシリーズ.md#プロジェクトフォルダとアプリのルートディレクトリの違い)」を参照してください。

---

## 基本的なUI構成

Cursorの画面は3つの主要なエリアで構成されています：

### 1. **左側: ファイルツリー（サイドバー）**
- プロジェクト内のファイルとフォルダが表示されます
- ファイルをクリックして開いたり、新規作成ができます
- `Cmd + B` (Mac) / `Ctrl + B` (Windows) でトグル（表示/非表示）

### 2. **中央: エディター**
- コードを編集する主要なエリア
- 複数のファイルをタブで開けます
- 分割表示も可能

### 3. **右側: Cursorエージェント（チャットペイン）**
- AIアシスタントとの対話画面
- コード生成、質問、リファクタリングなどが可能
- `Cmd + L` (Mac) / `Ctrl + L` (Windows) で開く

---

## よく使うショートカットキー

### 基本操作

| 機能 | Mac | Windows | 説明 |
|------|-----|---------|------|
| **コマンドパレット** | `Cmd + Shift + P` | `Ctrl + Shift + P` | すべてのコマンドを検索 |
| **ファイル検索** | `Cmd + P` | `Ctrl + P` | プロジェクト内のファイルを検索 |
| **サイドバー切り替え** | `Cmd + B` | `Ctrl + B` | ファイルツリーの表示/非表示 |
| **ターミナル表示/非表示** | `Cmd + J` | `Ctrl + J` | 統合ターミナルの表示/非表示を切り替え |
| **設定を開く** | `Cmd + ,` | `Ctrl + ,` | Cursor設定画面を開く |

### Cursorエージェント（AI機能）

| 機能 | Mac | Windows | 説明 |
|------|-----|---------|------|
| **エージェントを開く** | `Cmd + L` | `Ctrl + L` | AIチャットペインを開く |
| **コード生成** | `Cmd + K` | `Ctrl + K` | インラインでAIにコード生成を依頼 |
| **プレビューモード** | `Shift + Cmd + V` | `Shift + Ctrl + V` | Markdownなどのプレビュー表示 |

### 編集

| 機能 | Mac | Windows | 説明 |
|------|-----|---------|------|
| **行の複製** | `Shift + Option + ↓` | `Shift + Alt + ↓` | 現在行を下に複製 |
| **行の移動** | `Option + ↑/↓` | `Alt + ↑/↓` | 現在行を上下に移動 |
| **複数カーソル** | `Option + クリック` | `Alt + クリック` | 複数箇所を同時編集 |
| **一括置換** | `Cmd + Shift + H` | `Ctrl + Shift + H` | プロジェクト全体で検索・置換 |

---

## 主要機能

### 1. Cursorエージェント（AIチャット）
- **用途**: コード生成、質問、デバッグ支援
- **開き方**: `Cmd + L`
- **Tips**:
  - 具体的な指示を出すと精度が上がる
  - コードブロックを含めて質問すると良い

#### AIモデルの選択（重要）

Cursorエージェントでは、使用するAIモデルを選択できます。**VibeCoder育成プログラムでは、Autoモードは推奨していません。**

##### 推奨設定（2025年12月現在）

**基本モデル**: Gemini 3 Flash
- 日常的なコード生成や質問に使用
- 軽量で応答が速い
- ほとんどのタスクはこれで十分

**高度なモデル**（複雑なタスクやバグ修正時）:
- Gemini 3 Pro
- Claude Opus 4.5
- GPT 5.2
- その他のThinkingモデル

以下の場合は、高度なモデルに切り替えます：
- Gemini 3 Flashで解決しない複雑な課題
- 複雑なバグの修正
- アーキテクチャ設計の相談
- 難易度の高いリファクタリング

**モデル切り替えのポイント**:
- 簡単な操作には軽いモデル → スピードが速い
- 複雑な操作には高度なモデル → 精度が高い
- AI の賢さ = 生産性、エラー率の低さ
- バージョンは日々更新されるため、その時の最新モデルを使用

##### モデルの切り替え方法

1. チャットペイン上部のモデル名をクリック
2. ドロップダウンから使いたいモデルを選択
3. 選択したモデルでチャット開始

**Autoモードを避ける理由**:
- 悪いモデルが選ばれることが多い
- 無料で使えるメリットはあるが、生産性が下がる
- エラー率が高くなる可能性がある

### 2. Composer（マルチファイル編集）
- **用途**: 複数ファイルを同時に編集
- **開き方**: `Cmd + Shift + I`
- **Tips**: 大規模なリファクタリングに便利

### 3. インラインコード生成
- **用途**: エディター内で直接コード生成
- **開き方**: `Cmd + K`
- **Tips**: コメントで指示を書いてから実行

---

## チャットへのファイル追加方法

AIエージェントにファイルの内容を見せたいときは、チャットにファイルを追加する必要があります。2つの方法があります。

### 方法1: `@` でファイル名を指定

チャットペインでメッセージを入力する際、**半角の `@` を入力**すると、ファイル候補が表示されます。

```
@app/page.tsx このページにボタンを追加してください
```

1. チャットペインで `@` を入力
2. ファイル名を入力（例: `page`）
3. 候補から選択して Enter
4. ファイルが追加される

**複数ファイルを追加**することもできます：

```
@app/layout.tsx @components/Header.tsx この2つのファイルを連携させてください
```

### 方法2: ドラッグ&ドロップ

ファイルツリーから直接ドラッグ&ドロップする方法です。

1. 左側のファイルツリーからファイルを選択
2. 右側のチャットペインに**ドラッグ&ドロップ**
3. ファイルが追加される

**複数ファイルを一度に追加**する場合：
- `Cmd`（Mac）または `Ctrl`（Windows）を押しながら複数ファイルを選択
- まとめてドラッグ&ドロップ

この方法は、ファイル名が分からないときや、視覚的に選びたいときに便利です。

---

## Markdownプレビュー

Markdownファイル（`.md`）は、READMEやドキュメント作成に使われます。Cursorでは、Markdownを見やすく表示するプレビュー機能があります。

### プレビューの開き方（方法1: ショートカット）

1. Markdownファイルをエディターで開く
2. エディターにマウスカーソルがある状態で、**`Shift + Cmd + V`**（Mac）または **`Shift + Ctrl + V`**（Windows）を押す
3. プレビューが右側に分割表示される

### プレビューの開き方（方法2: 右クリック）

1. ファイルツリーでMarkdownファイルを右クリック
2. **「プレビューで開く」** を選択
3. プレビューが表示される

### プレビューの活用

プレビューモードでは、実際にどう表示されるかを確認しながら編集できます。エディターとプレビューを並べて表示することで、リアルタイムにMarkdownの見た目を確認できます。

---

## ファイル位置の確認

Cursor内でファイルを見ているとき、「このファイルって実際どこに保存されているの？」と確認したくなることがあります。

### Finderで開く方法

1. ファイルツリーでファイルまたはフォルダを右クリック
2. **「Reveal in Finder」**（Mac）または **「Reveal in Explorer」**（Windows）を選択
3. Finder/Explorerが開き、そのファイルの場所がハイライトされる

### いつ使うか

- ファイルを別のアプリで開きたいとき
- ファイルをコピーしたいとき
- プロジェクトの実際の保存場所を確認したいとき
- スクリーンショットを撮りたいとき

---

## 用語集

| 用語 | 説明 |
|------|------|
| **エージェント** | 右側のペインにあるAIチャットインターフェース |
| **ファイルツリー** | 左側のサイドバーに表示されるファイル一覧 |
| **エディター** | 中央のコード編集エリア |
| **Composer** | 複数ファイルを同時に編集できるAI機能 |
| **インライン生成** | エディター内で直接AIにコード生成を依頼する機能 |
| **統合ターミナル** | Cursor内に組み込まれたターミナル |
| **コマンドパレット** | すべてのコマンドを検索・実行できるメニュー |

---

## トラブルシューティング

### よくある問題と解決策

#### 1. AIが反応しない
- **原因**: APIキーが設定されていない、またはネットワークエラー
- **解決策**:
  - 設定(`Cmd + ,`)でAPIキーを確認
  - インターネット接続を確認

#### 2. ファイルツリーが表示されない
- **原因**: サイドバーが非表示になっている
- **解決策**: `Cmd + B` でトグル

#### 3. ターミナルが開けない
- **原因**: ショートカットキーの競合
- **解決策**:
  - メニューから「表示 > ターミナル」を選択
  - `` Ctrl + ` `` を試す

#### 4. Cursorが重い
- **原因**: 大きなプロジェクトや拡張機能が多い
- **解決策**:
  - 不要な拡張機能を無効化
  - `.cursorignore`でインデックス対象を制限

---

## 参考リンク
- [Cursor公式ドキュメント](https://docs.cursor.com/)
- [VibeCoder育成プログラム - Cursor設定ガイド](../../研修内容/)
